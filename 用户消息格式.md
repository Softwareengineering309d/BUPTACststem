ps：所有的error均是为了程序更完善写的，其实都可以没有，想用就用，不想用没影响。

## 客户端请求

### 空调开启

~~~json
{
	"request": 100,
	"data":
     {
      	"RoomId":1
     }
}
~~~
### 修改温度

~~~json
{
	"request": 200,
	"data":
     {
         "RoomId":1,
         "TargetTemp":111
     }
}
~~~

### 修改风速

~~~json
{
	"request": 300,
	"data":
     {
         "RoomId":1,
         "FanSpeed":222
     }
}
~~~

### 关闭

~~~json
{
	"request": 400,
	"data":
     {
         "RoomId":1
     }
}
~~~

## 服务器应答

### 空调开启

#### OK（返回默认参数）

~~~json
{
    "request":100,
    "ACK":101,
	"data":
    {
        "DefaultTemp":111,
        "DefaultFanSpeed":222
    }
}
~~~

#### ERROR

~~~json
{
    "request":100,
    "ACK":102,
}
~~~

### 修改温度

#### OK

~~~json
{
    "request":200,
    "ACK":201
}
~~~

#### ERROR

~~~json
{
    "request":200,
    "ACK":202
}
~~~

### 修改风速

#### OK

~~~json
{
    "request":300,
    "ACK":301
}
~~~

#### ERROR

~~~json
{
    "request":300,
    "ACK":302
}
~~~

### 关闭

#### OK

~~~json
{
    "request":400,
    "ACK":401
}
~~~

#### ERROR

~~~json
{
    "request":400,
    "ACK":402
}
~~~

## 服务器通知

### 通知客户端服务已被启动（需要客户端返回当前温度）

~~~json
{
    "request":500,
	"data":
    {
        "ServerId":111
    }
}
~~~

### 通知客户端服务已被停止

#### 到达指定温度停止（服务已经完成了）

~~~json
{
	"request":600
}
~~~

#### 被抢占停止（服务暂时终止了，因此要回送wait号）

~~~json
{
	"request": 700,
    "data":
    {
        "WaitId":111,
        "WaitTime":222//最好固定，否则不同组调度结果可能不同，固定的话这个就不用了
    }
}
~~~



## 客户端应答

### 通知客户端服务已被启动-OK（需要客户端返回当前温度）

~~~json
{
    "request":500,
    "ACK":501,
	"data":
    {
        "CurrentTemp":111
    }
}
~~~



### 在服务器收到这个501ACK包后，服务器就每隔一段时间回送这个000心跳包，告知客户端当前的温度和费用，直到服务暂停或停止

~~~json
{
    "request":000,
    "data":
    {
        "TotalFee":12345,
        "CurrentTemp":123
    }
}
~~~



### 通知客户端服务已被启动-ERROR（此时就不返回当前温度了）

~~~json
{
    "request":500,
    "ACK":502
}
~~~

### 到达指定温度停止

##### OK（已经成功收到服务完成信号，启动回温程序成功）

~~~json
{
	"request":600,
    "ACK":601
}
~~~

##### ERROR（已经成功收到服务完成信号，启动回温程序失败）

~~~json
{
	"request": 600,
    "ACK":602
}
~~~

#### 被抢占停止

##### OK（已经成功收到服务暂时中止信号，启动回温程序成功）

~~~json
{
	"request":700,
    "ACK":701
}
~~~

##### ERROR（已经成功收到服务暂时中止信号，启动回温程序失败）

~~~json
{
	"request": 700,
    "ACK":702
}
~~~



| 请求代码                                         |      |
| ------------------------------------------------ | ---- |
| 空调开启                                         | 100  |
| 修改温度                                         | 200  |
| 修改风速                                         | 300  |
| 关闭                                             | 400  |
| 通知客户端服务已被启动（需要客户端返回当前温度） | 500  |
| 到达指定温度停止（服务已经完成了）               | 600  |
| 通知客户端服务被抢占已被停止                     | 700  |
| 心跳包                                           | 000  |



| ACK                                                    | 编号 |
| ------------------------------------------------------ | ---- |
| 空调开启-OK                                            | 101  |
| 空调开启-ERROR                                         | 102  |
| 修改温度-OK                                            | 201  |
| 修改温度-ERROR                                         | 202  |
| 修改风速-OK                                            | 301  |
| 修改风速-ERROR                                         | 302  |
| 关闭-OK                                                | 401  |
| 关闭-ERROR                                             | 402  |
| 通知客户端服务已被启动-OK（需要客户端返回当前温度）    | 501  |
| 通知客户端服务已被启动-ERROR（此时就不返回当前温度了） | 502  |
| 到达指定温度停止-OK                                    | 601  |
| 到达指定温度停止-ERROR                                 | 602  |
| 通知客户端服务被抢占已被停止-OK                        | 701  |
| 通知客户端服务被抢占已被停止-ERROR                     | 702  |

